const { test, expect } = require('@playwright/test');

test('successful login', async ({ page }) => {
  await page.goto('http://localhost:9000'); 

  await page.fill('id=email', 'max.mustermann@example.com');
  await page.fill('id=password', 'meinPasswort123');

  await page.click('button[type="submit"]');
  await page.waitForSelector(`text=Login successful! Welcome, max.mustermann@example.com.`);
});

test('logout', async ({ page }) => {
    await page.goto('http://localhost:9000');

    await page.fill('id=email', 'max.mustermann@example.com');
    await page.fill('id=password', 'meinPasswort123');
  
    await page.click('button[type="submit"]');;
    await page.waitForSelector('text=Login successful! Welcome, max.mustermann@example.com.');

    await page.click('#logout');
    await page.waitForSelector('form.login_form');
});

test('invalid login', async ({ page }) => {
    await page.goto('http://localhost:9000'); 
  
    await page.fill('id=email', 'invalid@example.com');
    await page.fill('id=password', 'invalidpassword');
  
    await page.click('button[type="submit"]');
  
    await page.waitForSelector('text=Incorrect email or password');
  });
  test('invalid passwort', async ({ page }) => {
    await page.goto('http://localhost:9000'); 
  
    await page.fill('id=email', 'max.mustermann@example.com');
    await page.fill('id=password', 'invalidpassword');
  
    await page.click('button[type="submit"]');
  
    await page.waitForSelector('text=Incorrect email or password');
  });
  test('invalid email', async ({ page }) => {
    await page.goto('http://localhost:9000'); 
  
    await page.fill('id=email', 'invalid@example.com');
    await page.fill('id=password', 'meinPasswort123 ');
  
    await page.click('button[type="submit"]');
  
    await page.waitForSelector('text=Incorrect email or password');
  });
  test('export login', async ({ page }) => {
    await page.goto('http://localhost:9000'); 
  
    await page.fill('id=email', 'invalid@example.com');
    await page.fill('id=password', 'meinPasswort123 ');
  
    await page.click('button[type="submit"]');
  
    await page.waitForSelector('text=Incorrect email or password');
  });